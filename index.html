
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>LINE Display Name to Google Form</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
      function initializeLiff() {
        liff.init({ liffId: "2007666541-32KbVGne" })
          .then(() => {
            if (!liff.isLoggedIn()) {
              liff.login();
            } else {
              liff.getProfile()
                .then(profile => {
                  const displayName = profile.displayName;
                  document.getElementById("entry.2111505363").value = displayName;
                })
                .catch(error => {
                  console.error("Error getting profile:", error);
                });
            }
          })
          .catch(error => {
            console.error("LIFF Initialization failed:", error);
          });
      }
      window.onload = initializeLiff;
    </script>
  </head>
  <body>
    <h2>アンケートにご協力ください</h2>
    <form action="https://docs.google.com/forms/d/e/1FAIpQLSfAG-MrM54y_thuBG9qT-Aj1Gi33MzZIEj0VYfI-esVVr51aw/formResponse" method="POST" target="_self">
      <label for="entry.2111505363">LINE表示名（自動入力されます。変更しないでください）:</label><br>
      <input type="text" id="entry.2111505363" name="entry.2111505363" readonly><br><br>
      <input type="submit" value="送信">
    </form>
  </body>
</html>
